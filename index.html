<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Zoom Background Generator</title>
    <meta name="description" content="Create Zoom backgrounds for Kepler" />
    <meta name="author" content="Sam, Ricard, and David" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css"
      integrity="sha512-8bHTC73gkZ7rZ7vpqUQThUDhqcNFyYi2xgDgPDHc+GXVGHXq+xPjynxIopALmOPqzo9JZj0k6OqqewdGO3EsrQ=="
      crossorigin="anonymous"
    />
    <!-- <link rel="preconnect" href="https://fonts.gstatic.com" /> -->
    <!-- <link -->
    <!--   href="https://fonts.googleapis.com/css2?family=Cabin:ital,wght@0,700;1,400&display=swap" -->
    <!--   rel="stylesheet" -->
    <!-- /> -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style/custom.css" />
  </head>
  <body>
    <div class="ui container">
      <br>
      <img src="kepler-logo-2-rgb.png" style="width: 20%;">
      <h1>Zoom Background Generator</h1>
      <p>
        This tool has been created to enable all comets to generate a Kepler
        approved virtual background to use in client Zoom sessions. Your name is
        intended to be highly visible even when other participants are using a
        grid like view of the Zoom room. When using this background please
        situate yourself in such a way to minimize overlap with the name, which
        will always stay in a minimal one-third area of the top right corner of
        your screen.
      </p>

      <div class="ui blue message">
        Note: it does not matter if you use the "Mirror" option within Zoom. The
        text will always display correctly to other participants.
      </div>

      <form class="ui form">
        <div class="field">
          <label>First Name</label>
          <input
            type="text"
            id="fFirstname"
            placeholder="First Name"
            oninput="onFirstnameChange(this.value)"
          />
        </div>
        <div class="field">
          <label>Last name</label>
          <input
            type="text"
            id="fLastname"
            placeholder="Last Name"
            oninput="onLastnameChange(this.value)"
          />
        </div>
        <div class="field">
          <label>Gender Pronouns (Optional)</label>
          <input
            type="text"
            id="fGender"
            placeholder="She/He/They/Zim/etc"
            oninput="onGenderChange(this.value)"
          />
        </div>
      </form>
      <hr />
      <div
        id="theImage"
        style="
          background-image: url(./logo_only.png);
          height: 720px;
          width: 1280px;
        "
      >
        <div id="superimposedText">
          <span id="lFirstname"></span>
          <br />
          <br />
          <span id="lLastname"></span>
          <br />
          <br />
          <br />
          <span id="lGender"></span>
        </div>
      </div>
      <hr />
      <button class="ui button" onclick="downloadImage()">
        Download Zoom Background
      </button>
    </div>
    <br>
  </body>
  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"
    integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg=="
    crossorigin="anonymous"
  ></script>
  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.js"
    integrity="sha512-dqw6X88iGgZlTsONxZK9ePmJEFrmHwpuMrsUChjAw1mRUhUITE5QU9pkcSox+ynfLhL15Sv2al5A0LVyDCmtUw=="
    crossorigin="anonymous"
  ></script>
  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/dom-to-image/2.6.0/dom-to-image.min.js"
    integrity="sha512-01CJ9/g7e8cUmY0DFTMcUw/ikS799FHiOA0eyHsUWfOetgbx/t6oV4otQ5zXKQyIrQGTHSmRVPIgrgLcZi/WMA=="
    crossorigin="anonymous"
  ></script>
  <script type="text/javascript">
    window.downloadImage = function () {
      domtoimage
        .toJpeg(document.getElementById('theImage'))
        .then(function (dataUrl) {
          var link = document.createElement('a')
          link.download = 'kepler-zoom-backgound-custom.jpeg'
          link.href = dataUrl
          link.click()
        })
    }

    window.onFirstnameChange = function (value) {
      var lFirstname = document.getElementById('lFirstname')
      lFirstname.innerText = value
    }

    window.onLastnameChange = function (value) {
      var lLastname = document.getElementById('lLastname')
      lLastname.innerText = value
    }

    window.onGenderChange = function (value) {
      var lGender = document.getElementById('lGender')
      lGender.innerText = value
    }

    $('form').each(function() { this.reset() });
  </script>
</html>
